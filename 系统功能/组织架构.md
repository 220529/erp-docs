# ç»„ç»‡æ¶æ„

## ç»„ç»‡æ¨¡å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç»„ç»‡æ¶æ„æ¨¡å‹                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚   â”‚   Company   â”‚  å…¬å¸                                        â”‚
â”‚   â”‚   å…¬å¸      â”‚  - å¯ä»¥æœ‰å¤šä¸ªå…¬å¸/åˆ†å…¬å¸                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚          â”‚ 1:n                                                  â”‚
â”‚          â–¼                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚   â”‚ Department  â”‚  éƒ¨é—¨                                        â”‚
â”‚   â”‚   éƒ¨é—¨      â”‚  - æ ‘å½¢ç»“æ„ï¼Œæ”¯æŒå¤šçº§                         â”‚
â”‚   â”‚             â”‚  - å±äºæŸä¸ªå…¬å¸                               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚          â”‚ 1:n                                                  â”‚
â”‚          â–¼                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚   â”‚    User     â”‚  ç”¨æˆ·                                        â”‚
â”‚   â”‚   ç”¨æˆ·      â”‚  - å±äºæŸä¸ªå…¬å¸                               â”‚
â”‚   â”‚             â”‚  - å±äºæŸä¸ªéƒ¨é—¨                               â”‚
â”‚   â”‚             â”‚  - æ‹¥æœ‰æŸä¸ªè§’è‰²                               â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ç»„ç»‡æ¶æ„ç¤ºä¾‹

```
ğŸ¢ åŒ—äº¬æ€»å…¬å¸
â”œâ”€â”€ ğŸ“ ç®¡ç†å±‚
â”‚   â””â”€â”€ ğŸ‘¤ ç‹æ€» (admin)
â”œâ”€â”€ ğŸ“ é”€å”®éƒ¨
â”‚   â”œâ”€â”€ ğŸ“ é”€å”®ä¸€éƒ¨
â”‚   â”‚   â”œâ”€â”€ ğŸ‘¤ å¼ ä¸‰ (sales)
â”‚   â”‚   â””â”€â”€ ğŸ‘¤ æå›› (sales)
â”‚   â””â”€â”€ ğŸ“ é”€å”®äºŒéƒ¨
â”‚       â””â”€â”€ ğŸ‘¤ ç‹äº” (sales)
â”œâ”€â”€ ğŸ“ è®¾è®¡éƒ¨
â”‚   â”œâ”€â”€ ğŸ‘¤ èµµå…­ (designer)
â”‚   â””â”€â”€ ğŸ‘¤ é’±ä¸ƒ (designer)
â”œâ”€â”€ ğŸ“ å·¥ç¨‹éƒ¨
â”‚   â””â”€â”€ ğŸ‘¤ å­™å…« (foreman)
â””â”€â”€ ğŸ“ è´¢åŠ¡éƒ¨
    â””â”€â”€ ğŸ‘¤ å‘¨ä¹ (finance)

ğŸ¢ ä¸Šæµ·åˆ†å…¬å¸
â”œâ”€â”€ ğŸ“ é”€å”®éƒ¨
â”‚   â””â”€â”€ ğŸ‘¤ å´å (sales)
â””â”€â”€ ğŸ“ è®¾è®¡éƒ¨
    â””â”€â”€ ğŸ‘¤ éƒ‘åä¸€ (designer)
```

## å…¬å¸ç®¡ç†

| å­—æ®µ | è¯´æ˜ | å¿…å¡« |
|-----|------|-----|
| name | å…¬å¸åç§° | æ˜¯ |
| contact | è”ç³»äºº | å¦ |
| phone | è”ç³»ç”µè¯ | å¦ |
| address | åœ°å€ | å¦ |
| status | çŠ¶æ€ | æ˜¯ |

## éƒ¨é—¨ç®¡ç†

| å­—æ®µ | è¯´æ˜ | å¿…å¡« |
|-----|------|-----|
| name | éƒ¨é—¨åç§° | æ˜¯ |
| companyId | æ‰€å±å…¬å¸ | æ˜¯ |
| parentId | ä¸Šçº§éƒ¨é—¨ | å¦ |
| leader | è´Ÿè´£äºº | å¦ |
| sort | æ’åº | å¦ |
| status | çŠ¶æ€ | æ˜¯ |

## ç”¨æˆ·ç®¡ç†

| å­—æ®µ | è¯´æ˜ | å¿…å¡« |
|-----|------|-----|
| username | ç”¨æˆ·å | æ˜¯ |
| password | å¯†ç  | æ˜¯ |
| name | å§“å | æ˜¯ |
| mobile | æ‰‹æœºå· | å¦ |
| role | è§’è‰² | æ˜¯ |
| companyId | æ‰€å±å…¬å¸ | æ˜¯ |
| departmentId | æ‰€å±éƒ¨é—¨ | æ˜¯ |
| status | çŠ¶æ€ | æ˜¯ |

### ç”¨æˆ·çŠ¶æ€
```typescript
enum UserStatus {
  ACTIVE = 'active',     // æ­£å¸¸
  DISABLED = 'disabled', // ç¦ç”¨
  LOCKED = 'locked'      // é”å®š
}
```

## API æ¥å£

| æ¥å£ | æ–¹æ³• | è¯´æ˜ |
|-----|------|-----|
| /api/companies | GET/POST | å…¬å¸åˆ—è¡¨/åˆ›å»º |
| /api/companies/:id | PUT/DELETE | ç¼–è¾‘/åˆ é™¤å…¬å¸ |
| /api/departments | GET/POST | éƒ¨é—¨åˆ—è¡¨/åˆ›å»º |
| /api/departments/tree | GET | éƒ¨é—¨æ ‘ |
| /api/users | GET/POST | ç”¨æˆ·åˆ—è¡¨/åˆ›å»º |
| /api/users/:id | PUT/DELETE | ç¼–è¾‘/åˆ é™¤ç”¨æˆ· |
| /api/users/:id/status | PUT | å¯ç”¨/ç¦ç”¨ |
| /api/users/:id/reset-password | PUT | é‡ç½®å¯†ç  |

## å‰ç«¯é¡µé¢ï¼ˆå·¦å³å¸ƒå±€ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»„ç»‡æ¶æ„                                         [+ æ·»åŠ å…¬å¸]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       â”‚                                         â”‚
â”‚  ğŸ¢ åŒ—äº¬æ€»å…¬å¸         â”‚  éƒ¨é—¨ï¼šé”€å”®ä¸€éƒ¨              [+ æ·»åŠ ç”¨æˆ·] â”‚
â”‚  â”œâ”€â”€ ğŸ“ é”€å”®éƒ¨        â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”‚   â”œâ”€â”€ é”€å”®ä¸€éƒ¨ â—„â”€â”€â”€â”¼â”€ ç”¨æˆ·å   å§“å   æ‰‹æœºå·    è§’è‰²   çŠ¶æ€   â”‚
â”‚  â”‚   â””â”€â”€ é”€å”®äºŒéƒ¨     â”‚  zhangsan å¼ ä¸‰  138****   é”€å”®   æ­£å¸¸   â”‚
â”‚  â”œâ”€â”€ ğŸ“ è®¾è®¡éƒ¨        â”‚  lisi     æå››  139****   é”€å”®   æ­£å¸¸   â”‚
â”‚  â””â”€â”€ ğŸ“ å·¥ç¨‹éƒ¨        â”‚                                         â”‚
â”‚                       â”‚                                         â”‚
â”‚  ğŸ¢ ä¸Šæµ·åˆ†å…¬å¸         â”‚                                         â”‚
â”‚  â””â”€â”€ ğŸ“ é”€å”®éƒ¨        â”‚                                         â”‚
â”‚                       â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å³é”®èœå•ï¼šç¼–è¾‘å…¬å¸ | æ·»åŠ éƒ¨é—¨ | ç¼–è¾‘éƒ¨é—¨ | åˆ é™¤                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
